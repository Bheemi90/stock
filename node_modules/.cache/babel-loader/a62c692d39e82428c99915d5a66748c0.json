{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\hp\\\\Downloads\\\\stock-dashboard-master\\\\stock-dashboard-master\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\hp\\\\Downloads\\\\stock-dashboard-master\\\\stock-dashboard-master\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\hp\\\\Downloads\\\\stock-dashboard-master\\\\stock-dashboard-master\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useContext,useState}from\"react\";import ThemeContext from\"../context/ThemeContext\";import{searchSymbol}from\"../utils/api/stock-api\";import SearchResults from\"./SearchResults\";import{SearchIcon,XIcon}from\"@heroicons/react/solid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useContext=useContext(ThemeContext),darkMode=_useContext.darkMode;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),bestMatches=_useState4[0],setBestMatches=_useState4[1];var updateBestMatches=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var searchResults,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!input){_context.next=7;break;}_context.next=4;return searchSymbol(input);case 4:searchResults=_context.sent;result=searchResults.result;setBestMatches(result);case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);setBestMatches([]);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function updateBestMatches(){return _ref.apply(this,arguments);};}();var clear=function clear(){setInput(\"\");setBestMatches([]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center my-4 border-2 rounded-md relative z-50 w-96 \".concat(darkMode?\"bg-gray-900 border-gray-800\":\"bg-white border-neutral-200\"),children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,className:\"w-full px-4 py-2 focus:outline-none rounded-md \".concat(darkMode?\"bg-gray-900\":null),placeholder:\"Search stock...\",onChange:function onChange(event){return setInput(event.target.value);},onKeyPress:function onKeyPress(event){if(event.key===\"Enter\"){updateBestMatches();}}}),input&&/*#__PURE__*/_jsx(\"button\",{onClick:clear,className:\"m-1\",children:/*#__PURE__*/_jsx(XIcon,{className:\"h-4 w-4 fill-gray-500\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:updateBestMatches,className:\"h-8 w-8 bg-indigo-600 rounded-md flex justify-center items-center m-1 p-2 transition duration-300 hover:ring-2 ring-indigo-400\",children:/*#__PURE__*/_jsx(SearchIcon,{className:\"h-4 w-4 fill-gray-100\"})}),input&&bestMatches.length>0?/*#__PURE__*/_jsx(SearchResults,{results:bestMatches}):null]});};export default Search;","map":{"version":3,"sources":["C:/Users/hp/Downloads/stock-dashboard-master/stock-dashboard-master/src/components/Search.js"],"names":["React","useContext","useState","ThemeContext","searchSymbol","SearchResults","SearchIcon","XIcon","Search","darkMode","input","setInput","bestMatches","setBestMatches","updateBestMatches","searchResults","result","console","log","clear","event","target","value","key","length"],"mappings":"8eAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,OAASC,YAAT,KAA6B,wBAA7B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,UAAT,CAAqBC,KAArB,KAAkC,wBAAlC,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,gBAAqBP,UAAU,CAACE,YAAD,CAA/B,CAAQM,QAAR,aAAQA,QAAR,CAEA,cAA0BP,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eAEA,eAAsCT,QAAQ,CAAC,EAAD,CAA9C,yCAAOU,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,iBAAiB,0FAAG,gLAElBJ,KAFkB,+CAGQN,CAAAA,YAAY,CAACM,KAAD,CAHpB,QAGdK,aAHc,eAIdC,MAJc,CAILD,aAAa,CAACC,MAJT,CAKpBH,cAAc,CAACG,MAAD,CAAd,CALoB,sFAQtBH,cAAc,CAAC,EAAD,CAAd,CACAI,OAAO,CAACC,GAAR,cATsB,oEAAH,kBAAjBJ,CAAAA,iBAAiB,0CAAvB,CAaA,GAAMK,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClBR,QAAQ,CAAC,EAAD,CAAR,CACAE,cAAc,CAAC,EAAD,CAAd,CACD,CAHD,CAKA,mBACE,aACE,SAAS,yEACPJ,QAAQ,CAAG,6BAAH,CAAmC,6BADpC,CADX,wBAKE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEC,KAFT,CAGE,SAAS,0DACPD,QAAQ,CAAG,aAAH,CAAmB,IADpB,CAHX,CAME,WAAW,CAAC,iBANd,CAOE,QAAQ,CAAE,kBAACW,KAAD,QAAWT,CAAAA,QAAQ,CAACS,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAnB,EAPZ,CAQE,UAAU,CAAE,oBAACF,KAAD,CAAW,CACrB,GAAIA,KAAK,CAACG,GAAN,GAAc,OAAlB,CAA2B,CACzBT,iBAAiB,GAClB,CACF,CAZH,EALF,CAmBGJ,KAAK,eACJ,eAAQ,OAAO,CAAES,KAAjB,CAAwB,SAAS,CAAC,KAAlC,uBACE,KAAC,KAAD,EAAO,SAAS,CAAC,uBAAjB,EADF,EApBJ,cAwBE,eACE,OAAO,CAAEL,iBADX,CAEE,SAAS,CAAC,gIAFZ,uBAIE,KAAC,UAAD,EAAY,SAAS,CAAC,uBAAtB,EAJF,EAxBF,CA8BGJ,KAAK,EAAIE,WAAW,CAACY,MAAZ,CAAqB,CAA9B,cACC,KAAC,aAAD,EAAe,OAAO,CAAEZ,WAAxB,EADD,CAEG,IAhCN,GADF,CAoCD,CA7DD,CA+DA,cAAeJ,CAAAA,MAAf","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport ThemeContext from \"../context/ThemeContext\";\nimport { searchSymbol } from \"../utils/api/stock-api\";\nimport SearchResults from \"./SearchResults\";\nimport { SearchIcon, XIcon } from \"@heroicons/react/solid\";\n\nconst Search = () => {\n  const { darkMode } = useContext(ThemeContext);\n\n  const [input, setInput] = useState(\"\");\n\n  const [bestMatches, setBestMatches] = useState([]);\n\n  const updateBestMatches = async () => {\n    try {\n      if (input) {\n        const searchResults = await searchSymbol(input);\n        const result = searchResults.result;\n        setBestMatches(result);\n      }\n    } catch (error) {\n      setBestMatches([]);\n      console.log(error);\n    }\n  };\n\n  const clear = () => {\n    setInput(\"\");\n    setBestMatches([]);\n  };\n\n  return (\n    <div\n      className={`flex items-center my-4 border-2 rounded-md relative z-50 w-96 ${\n        darkMode ? \"bg-gray-900 border-gray-800\" : \"bg-white border-neutral-200\"\n      }`}\n    >\n      <input\n        type=\"text\"\n        value={input}\n        className={`w-full px-4 py-2 focus:outline-none rounded-md ${\n          darkMode ? \"bg-gray-900\" : null\n        }`}\n        placeholder=\"Search stock...\"\n        onChange={(event) => setInput(event.target.value)}\n        onKeyPress={(event) => {\n          if (event.key === \"Enter\") {\n            updateBestMatches();\n          }\n        }}\n      />\n      {input && (\n        <button onClick={clear} className=\"m-1\">\n          <XIcon className=\"h-4 w-4 fill-gray-500\" />\n        </button>\n      )}\n      <button\n        onClick={updateBestMatches}\n        className=\"h-8 w-8 bg-indigo-600 rounded-md flex justify-center items-center m-1 p-2 transition duration-300 hover:ring-2 ring-indigo-400\"\n      >\n        <SearchIcon className=\"h-4 w-4 fill-gray-100\" />\n      </button>\n      {input && bestMatches.length > 0 ? (\n        <SearchResults results={bestMatches} />\n      ) : null}\n    </div>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}